import{e,f as r,r as a,g as s,a as t,c as o,j as l}from"./app-55aa7177.js";import{u as d,c as n,a as i,b as c,d as m}from"./index.esm-fd5c7a63.js";import{A as u}from"./AlertComponent-50ec0d3b.js";import"./index.es-e0312cba.js";function p({title:p,subtitle:g,data:h}){const[f,y]=e(),[v,_]=r(),b=d({initialValues:{event_name:(null==h?void 0:h.event_name)||"",start:(null==h?void 0:h.start)||"",end:(null==h?void 0:h.end)||"",desc:(null==h?void 0:h.desc)||"",address:(null==h?void 0:h.address)||"",short_address:(null==h?void 0:h.short_address)||"",off_end_date:!(null==h?void 0:h.end),quota:(null==h?void 0:h.quota)||"",quota_guest:(null==h?void 0:h.quota_guest)||"",image:""},validationSchema:n().shape({event_name:i().trim().max(150).required(),start:c().min(new Date).required(),end:c().nullable(),desc:i().nullable(),address:i().max(800).required(),short_address:i().max(255).required(),quota:m().min(1).required(),quota_guest:m().min(1).required()}),onSubmit:e=>{delete e.off_end_date,h?(e.id=h.id,v(e)):f(e)}});return a.useEffect((()=>{(y.isSuccess||_.isSuccess)&&s.get(route("events"),{},{replace:!0})}),[y.isSuccess,_.isSuccess]),t(o.Card,{className:"h-full w-full p-2 sm:p-6",children:l("form",{onSubmit:b.handleSubmit,encType:"multipart/form-data",children:[t(o.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:t("div",{className:"flex items-center justify-between gap-8",children:l("div",{children:[p&&t(o.Typography,{variant:"h5",color:"gray",className:"text-lg font-medium",children:p}),g&&t(o.Typography,{color:"gray",className:"mt-1 text-sm",children:g})]})})}),l(o.CardBody,{className:"px-0 p-4 space-y-6 ",children:[t(u,{option:h?_:y}),t(o.Typography,{variant:"small",color:"blue-gray",className:"mb-4 font-medium",children:"Details"}),l("section",{children:[t(o.Input,{type:"text",size:"lg",label:"Name of Event",...b.getFieldProps("event_name"),error:!(!b.errors.event_name||!b.touched.event_name)}),b.errors.event_name&&b.touched.event_name&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.event_name})]}),l("section",{className:"my-4 grid grid-cols-3 gap-4",children:[l("div",{children:[t(o.Input,{type:"datetime-local",size:"lg",label:"Start Date",...b.getFieldProps("start"),error:!(!b.errors.start||!b.touched.start)}),b.errors.start&&b.touched.start&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.start})]}),l("div",{children:[t(o.Input,{type:"datetime-local",size:"lg",label:"End Date",...b.getFieldProps("end"),error:!(!b.errors.end||!b.touched.end),disabled:b.values.off_end_date}),b.errors.end&&b.touched.end&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.end})]}),t("div",{children:t(o.Switch,{name:"off_end_date",defaultChecked:b.values.off_end_date,label:l("div",{children:[t(o.Typography,{color:"blue-gray",className:"font-medium",children:'Tampilkan "- selesai" pada undangan'}),t(o.Typography,{variant:"small",color:"gray",className:"font-normal",children:'Pada website undangan tanggal dan jam selesai akan di tampilkan "- selesai"'})]}),onChange:e=>{b.setFieldValue("off_end_date",e.target.checked),e.target.checked&&b.setFieldValue("end","")},containerProps:{className:"-mt-5"}})})]}),l("section",{className:"my-4 grid grid-cols-2 gap-4",children:[l("div",{children:[t(o.Input,{type:"number",size:"lg",label:"Quota (Max Invitations)",...b.getFieldProps("quota"),error:!(!b.errors.quota||!b.touched.quota)}),b.errors.quota&&b.touched.quota&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.quota})]}),l("div",{children:[t(o.Input,{type:"number",size:"lg",label:"Quota (Max Guests)",...b.getFieldProps("quota_guest"),error:!(!b.errors.quota_guest||!b.touched.quota_guest)}),b.errors.quota_guest&&b.touched.quota_guest&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.quota_guest})]})]}),l("section",{children:[t(o.Textarea,{size:"lg",label:"Descripsion",...b.getFieldProps("desc"),error:!(!b.errors.desc||!b.touched.desc)}),b.errors.desc&&b.touched.desc&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.desc})]}),t(o.Typography,{variant:"small",color:"blue-gray",className:"mb-4 font-medium",children:"Location"}),l("section",{children:[t(o.Input,{type:"text",size:"lg",label:"Location",...b.getFieldProps("short_address"),error:!(!b.errors.short_address||!b.touched.short_address)}),b.errors.short_address&&b.touched.short_address&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.short_address})]}),l("section",{children:[t(o.Textarea,{size:"lg",label:"Address Location",...b.getFieldProps("address"),error:!(!b.errors.address||!b.touched.address)}),b.errors.address&&b.touched.address&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.address})]}),t(o.Typography,{variant:"small",color:"blue-gray",className:"mb-4 font-medium",children:"Cover Upload"}),l("section",{children:[t(o.Input,{type:"file",size:"lg",label:"Location",name:"image",onChange:e=>b.setFieldValue("image",e.currentTarget.files[0]),error:!(!b.errors.image||!b.touched.image)}),b.errors.image&&b.touched.image&&t(o.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:b.errors.image}),t("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)."})]})]}),l(o.CardFooter,{className:"flex items-center justify-center gap-3 border-t border-gray-50 p-4",children:[t(o.Button,{onClick:()=>s.get(route("events"),{},{replace:!0}),color:"gray",className:"rounded-md",children:"Cancel"}),l(o.Button,{type:"submit",className:"flex items-center gap-3",disabled:h?_.isLoading:y.isLoading,children:[(y.isLoading||_.isLoading)&&t(o.Spinner,{className:"h-4 w-4"}),"Save"]})]})]})})}export{p as default};
