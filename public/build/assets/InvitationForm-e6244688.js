import{h as e,i as r,r as a,g as t,a as l,c as n,j as s}from"./app-55aa7177.js";import{u as o,c as i,e as d,a as c,d as m}from"./index.esm-fd5c7a63.js";import{A as p}from"./AlertComponent-50ec0d3b.js";import{F as u}from"./index.es-e0312cba.js";function g({title:g,subtitle:h,data:f,events:b}){var v;const[y,x]=e(),[_,N]=r(),w=o({initialValues:{event_ids:(null==f?void 0:f.events)?null==(v=null==f?void 0:f.events)?void 0:v.map((e=>e.event_id)):[],greeting:(null==f?void 0:f.greeting)||"",fullname:(null==f?void 0:f.fullname)||"",whatsapp:(null==f?void 0:f.whatsapp)||"",guest_max:(null==f?void 0:f.guest_max)||2,labels:(null==f?void 0:f.labels)||"",inv_type:(null==f?void 0:f.inv_type)||""},validationSchema:i().shape({event_ids:d().min(1),greeting:c().trim().max(100).required(),fullname:c().trim().max(150).required(),whatsapp:c().trim().max(20).required(),guest_max:m().max(5).min(1).required(),labels:c().trim().required(),inv_type:c().trim().required()}),onSubmit:e=>{delete e.off_end_date,f?(e.id=f.id,_(e)):y(e)}});return a.useEffect((()=>{(x.isSuccess||N.isSuccess)&&t.get(route("invitations"),{},{replace:!0})}),[x.isSuccess,N.isSuccess]),l(n.Card,{className:"h-full w-full p-2 sm:p-6",children:s("form",{onSubmit:w.handleSubmit,children:[l(n.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:l("div",{className:"flex items-center justify-between gap-8",children:s("div",{children:[g&&l(n.Typography,{variant:"h5",color:"gray",className:"text-lg font-medium",children:g}),h&&l(n.Typography,{color:"gray",className:"mt-1 text-sm",children:h})]})})}),s(n.CardBody,{className:"px-0 p-4 space-y-6 ",children:[l(p,{option:f?N:x}),s("section",{children:[s("div",{className:"relative w-full min-w-[200px]",children:[l("label",{className:`\n                                ${w.errors.event_ids&&w.touched.event_ids?"before:border-red-500 after:border-red-500 text-red-500":"before:border-blue-gray-200 after:border-blue-gray-200 text-blue-gray-400"}\n                                flex w-full h-full pointer-events-none absolute left-0 font-normal leading-tight peer-focus:leading-tight -top-1.5 text-[11px] before:content[' '] before:block before:box-border before:w-2.5 before:h-1.5 before:mt-[6.5px] before:mr-1 before:rounded-tl-md before:border-t after:content[' '] after:block after:flex-grow after:box-border after:w-2.5 after:h-1.5 after:mt-[6.5px] after:ml-1 peer-placeholder-shown:after:border-transparent after:rounded-tr-md after:border-t peer-focus:after:border-t-2 after:border-r peer-focus:after:border-r-2 after:pointer-events-none after:transition-all peer-disabled:after:border-transparent peer-placeholder-shown:leading-[4.1]  peer-focus:text-blue-500  peer-focus:after:!border-blue-500\n                                `,children:"Invite to Events"}),l("div",{className:`\n                                ${w.errors.event_ids&&w.touched.event_ids?"border-red-500":"border-blue-gray-200"}\n                                peer w-full h-full bg-transparent text-blue-gray-700 font-sans font-normal outline outline-0 border border-t-transparent text-sm px-3 py-3 rounded-md border-blue-gray-200\n                                `,children:null==b?void 0:b.map((e=>l(n.Checkbox,{id:e.id,value:e.id,label:e.event_name,name:"event_ids",checked:w.values.event_ids.includes(e.id),onChange:e=>{const{checked:r,value:a}=e.target;r?w.setFieldValue("event_ids",[...w.values.event_ids,a]):w.setFieldValue("event_ids",w.values.event_ids.filter((e=>e!==a)))}},e.id)))})]}),w.errors.event_ids&&w.touched.event_ids&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.event_ids})]}),s("section",{className:"my-4 grid lg:grid-cols-4 gap-4",children:[s("div",{children:[l(n.Input,{type:"text",size:"lg",label:"Greeting",...w.getFieldProps("greeting"),error:!(!w.errors.greeting||!w.touched.greeting)}),w.errors.greeting&&w.touched.greeting&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.greeting}),l(n.Typography,{variant:"small",color:"blue-gray",className:"italic flex items-center gap-1 font-normal mt-2",children:"ex : Yth, Dear"})]}),s("div",{className:"lg:col-span-3",children:[l(n.Input,{type:"text",size:"lg",label:"Name",autoComplete:"off",...w.getFieldProps("fullname"),error:!(!w.errors.fullname||!w.touched.fullname)}),w.errors.fullname&&w.touched.fullname&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.fullname})]})]}),s("section",{className:"my-4 grid lg:grid-cols-4 gap-4",children:[s("div",{children:[s(n.Select,{label:"Invitation Labels",size:"lg",...w.getFieldProps("labels"),onChange:e=>w.setFieldValue("labels",e),error:!(!w.errors.labels||!w.touched.labels),children:[l(n.Option,{value:"Keluarga",children:"Keluarga"}),l(n.Option,{value:"Teman",children:"Teman"}),l(n.Option,{value:"Lainnya",children:"Lainnya"})]}),w.errors.labels&&w.touched.labels&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.labels})]}),s("div",{children:[s(n.Select,{label:"Invitation Type",size:"lg",...w.getFieldProps("inv_type"),onChange:e=>w.setFieldValue("inv_type",e),error:!(!w.errors.inv_type||!w.touched.inv_type),children:[l(n.Option,{value:"Reguler",children:"Reguler"}),l(n.Option,{value:"VIP",children:"VIP"}),l(n.Option,{value:"VVIP",children:"VVIP"})]}),w.errors.inv_type&&w.touched.inv_type&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.inv_type})]})]}),s("section",{className:"max-w-xl",children:[l(n.Input,{type:"number",size:"lg",label:"Guest (Max)",...w.getFieldProps("guest_max"),error:!(!w.errors.guest_max||!w.touched.guest_max)}),null==b?void 0:b.map((e=>s(n.Typography,{variant:"small",className:"italic gap-1 font-normal mt-2",children:[e.event_name," Guest Max :"," ",s("b",{children:[e.sum_guest_max||0," /"," ",e.quota_guest||0]})]},e.id))),w.errors.guest_max&&w.touched.guest_max&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.guest_max})]}),s("section",{children:[s("div",{className:"flex w-full max-w-[24rem] my-6",children:[s("div",{className:`border \n                  ${w.errors.whatsapp&&w.touched.whatsapp?"border-red-500 bg-red-500 text-white":"border-blue-gray-200 bg-gray-200 text-blue-gray"}  \n                  rounded-md flex h-11 items-center gap-2 rounded-r-none p-3 border-r-0 px-3`,children:[l(u,{icon:"fa-brands fa-whatsapp"})," ","+62"]}),l(n.Input,{type:"tel",placeholder:"WhatsApp Number",className:"rounded-l-none",labelProps:{className:"before:content-none "},containerProps:{className:"min-w-0"},size:"lg",...w.getFieldProps("whatsapp"),error:!(!w.errors.whatsapp||!w.touched.whatsapp)})]}),w.errors.whatsapp&&w.touched.whatsapp&&l(n.Typography,{variant:"small",color:"red",className:"flex items-center gap-1 font-normal mt-2",children:w.errors.whatsapp})]})]}),s(n.CardFooter,{className:"flex items-center justify-center gap-3 border-t border-gray-50 p-4",children:[l(n.Button,{onClick:()=>t.get(route("invitations"),{},{replace:!0}),color:"gray",className:"rounded-md",children:"Cancel"}),s(n.Button,{type:"submit",className:"flex items-center gap-3",disabled:f?N.isLoading:x.isLoading,children:[(x.isLoading||N.isLoading)&&l(n.Spinner,{className:"h-4 w-4"}),"Save"]})]})]})})}export{g as default};
